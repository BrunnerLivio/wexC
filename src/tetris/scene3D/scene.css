/* The scene provides the area in which 3d visualizations and operations can take place
   as well as setting the "camera position".
   It also serves as the sensitive area for mouse & touch events to rotate the
   coordinate system of the scene.
*/
.scene3d {
    container: scene3d inline-size;
    perspective: 200vmax;
    perspective-origin: right top;
    position: relative;
}

/* provides the logical group for the coordinate system */
.coords {
    position: absolute; /* position the 000 coords at the center of the scene */
    top: 50cqh;
    left: 50cqw;

    --coord-length: 42cqmin;
    width: var(--coord-length);
    aspect-ratio: 1 / 1;

    display: grid; /* child positioning  */
    transform-style: preserve-3d; /* put children in our 3d space */
    --coords-rotate-x: 0;
    --coords-rotate-y: 0;
    --coords-rotate-z: 0;
    transform-origin: 0 0;
    transform: rotateZ(calc(var(--coords-rotate-z) * 1deg))
        rotateY(calc(var(--coords-rotate-y) * 1deg))
        rotateX(calc(var(--coords-rotate-x) * 1deg));
    transition: transform 0.25s ease-out; /* simulate a bit of momentum */
}

.plane {
    grid-column: 1;
    grid-row: 1;
    width: inherit;
    aspect-ratio: inherit;
    border-left: 4px solid blue;
    border-top: 4px solid red;
    background: transparent;
    display: grid;
    place-items: center;
    font-family: 'Helvetica Neue', system-ui;
    font-size: calc(var(--coord-length) / 3);
    font-weight: bold;
    color: transparent;
    &.show {
        background: #fff5;
        color: #0008;
    }
}

.xz-plane {
    border-left: 4px solid yellow;
    transform-origin: center top;
    transform: rotateX(90deg);
}

.noSelection {
    -webkit-user-select: none; /* sadly still needed in 2024 */
    user-select: none;
}

/**
 * ðŸ’£ Nuke IOS default interactions
 */
* {
    -webkit-user-select: none !important;
    user-select: none !important;
    touch-action: none !important;
}

:root {
  --primary-darker: #0a0030;
  --accent: #ff00ff;
}

/* Parent perspective wrapper */
.outrun-grid-perspective {
  perspective: 1000px;
  overflow: hidden;
  height: 300px;
  position: relative;
}

.outrun-grid-perspective::after {
  content: "";
  display: block;
  height: 300px;
  width: 100%;
  background: linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.001) 0%,
    var(--primary-darker) 100%
  );
  position: absolute;
  z-index: 3;
  top: 0;
}

/* Grid container */
.outrun-grid-container {
  width: 100%;
  height: 660px;
  border: 2px solid var(--accent);
  box-sizing: border-box;
  transform-origin: top;
  transform: rotateX(70deg) translateY(10%);
  overflow: hidden;
  position: relative;
}

/* Vertical lines */
.vert {
  display: inline-block;
  height: 100%;
  width: 2px;
  background-color: var(--accent);
  margin-left: 12%;
  box-shadow: 0 2px 21px var(--accent);
}

/* Responsive adjustment originally from styled-components-breakpoint */
@media (min-width: 768px) {
  .vert {
    margin-left: 4.5%;
  }
}

/* Moving lines wrapper */
.moving-lines {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 300%;
}

/* Horizontal lines */
.hor {
  width: 100%;
  height: 3px;
  background-color: var(--accent);
  margin-top: 19%;
  box-shadow: 2px 0 21px var(--accent);
}

@media (min-width: 768px) {
  .hor {
    margin-top: 4.8%;
  }
}
